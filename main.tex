\documentclass[master=cws,masteroption=gs,english]{kulemt/kulemt}
\setup{title={A Middleware For Secure And Protected Data Aggregation},
  author={Jesse Geens},
  promotor={Prof.\,dr.\,ir.\ W. Joosen \and dr. B. Lagaisse \and Prof. dr. V. Naessens},
  assessor={Ir.\,W. Eetveel\and W. Eetrest},
  assistant={E. H. Beni \and A. Rafique}}
% De volgende \setup mag verwijderd worden als geen fiche gewenst is.
\setup{filingcard,
  translatedtitle={Een middleware voor veilige en beveiligde dataverzameling},
  udc=621.3,
  shortabstract={Hier komt een heel bondig abstract van hooguit 500
    woorden. \LaTeX\ commando's mogen hier gebruikt worden. Blanco lijnen
    (of het commando \texttt{\string\pa r}) zijn wel niet toegelaten!
    \endgraf \lipsum[2]}}
% Verwijder de "%" op de volgende lijn als je de kaft wil afdrukken
%\setup{coverpageonly}
% Verwijder de "%" op de volgende lijn als je enkel de eerste pagina's wil
% afdrukken en de rest bv. via Word aanmaken.
%\setup{frontpagesonly}

% Kies de fonts voor de gewone tekst, bv. Latin Modern
\setup{font=lm}

%% TODO come up with name and insert it here
\newcommand{\middleware}{(middleware)}

% PassOptionsToPackage fixes line breaks in URLs
\PassOptionsToPackage{hyphens}{url}\usepackage[pdfusetitle,colorlinks,plainpages=false]{hyperref}
\hypersetup{%
  citecolor=blue!70,
  linkcolor=black,
}

\usepackage{float}

% for formal definitions
\usepackage{framed}

% environment derived from framed.sty: see leftbar environment definition
\newenvironment{formal}{%
  \def\FrameCommand{%
    \definecolor{formalshade}{rgb}{0.95,0.95,1}
    \definecolor{darkblue}{rgb}{0.0, 0.0, 0.55}
    \hspace{1pt}%
    {\color{darkblue}\vrule width 2pt}%
    {\color{formalshade}\vrule width 4pt}%
    \colorbox{formalshade}%
  }%
  \MakeFramed{\advance\hsize-\width\FrameRestore}%
  \noindent\hspace{-4.55pt}% disable indenting first paragraph
  \begin{adjustwidth}{}{7pt}%
  \vspace{2pt}\vspace{2pt}%
}
{%
  \vspace{2pt}\end{adjustwidth}\endMakeFramed%
}

% cite (author, year) style
\usepackage{natbib}
%\bibliographystyle{abbrvnat}
\bibliographystyle{unsrtnat}
\setcitestyle{authoryear,open={(},close={)}}

%%%%%%%
% Om wat tekst te genereren wordt hier het lipsum pakket gebruikt.
% Bij een echte masterproef heb je dit natuurlijk nooit nodig!
\IfFileExists{lipsum.sty}%
 {\usepackage{lipsum}\SetLipsumDefault{11-13}}%
 {\newcommand{\lipsum}[1][11-13]{\par Hier komt wat tekst: lipsum ##1.\par}}
%%%%%%%

% Set todos in text
\usepackage{todonotes}

% For diagrams
\usepackage{rotating}
\usepackage{pdflscape}
\usepackage{amsmath}
\usepackage{minitoc}
\usepackage[sort]{cleveref}
\usetikzlibrary{arrows}

%%%%%%%
% Custom code listings
\usepackage{listings}
\usepackage{color}
\usepackage{chngcntr}

% Enumerations with letters instead of numbers
\usepackage{enumitem}

% Acronyms
\usepackage[acronym,smallcaps]{glossaries}

\loadglsentries{acronyms}
\makeglossaries
\glsdisablehyper

% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{12} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{12}  % for normal

% Language support for turtle
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}
\definecolor{antiquewhite}{rgb}{0.98, 0.92, 0.84}

\lstdefinestyle{turtle}{
    %backgroundcolor = \color{antiquewhite},
    basicstyle=\footnotesize,
    numbers=left,
    stepnumber=1,
    % morecomment=[l]{\# },
    %% TODO fix only comment if hashtag followed by space
    keywordstyle=\footnotesize\color{deepblue},
    emph={Authorization, agentClass, Agent, mode, Read, Write, Control, accessTo, agent},
    morekeywords={acl, @prefix, foaf},             % Add keywords here
    %keywordstyle=\color{green},
    commentstyle=\itshape\color{orange},
    %emphstyle=\footnotesize\color{deepred},    % Custom highlighting style
     emphstyle={\color{deepgreen}},
    stringstyle=\color{deepgreen},
    frame=t,                         % Any extra options here
    showstringspaces=false,
}

% Language support for JSON
\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    %backgroundcolor=\color{background},
    literate=
     *{0}{{{\color{numb}0}}}{1}
      {1}{{{\color{numb}1}}}{1}
      {2}{{{\color{numb}2}}}{1}
      {3}{{{\color{numb}3}}}{1}
      {4}{{{\color{numb}4}}}{1}
      {5}{{{\color{numb}5}}}{1}
      {6}{{{\color{numb}6}}}{1}
      {7}{{{\color{numb}7}}}{1}
      {8}{{{\color{numb}8}}}{1}
      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}

%%%%%%%%%
% Fix quotes, see https://tex.stackexchange.com/questions/356898/quote-with-author-reference-at-the-end
\let\oldquote\quote
\let\endoldquote\endquote
\renewenvironment{quote}[2][]
  {\if\relax\detokenize{#1}\relax
     \def\quoteauthor{#2}%
   \else
     \def\quoteauthor{#2~---~#1}%
   \fi
   \oldquote}
  {\par\nobreak\smallskip\hfill(\quoteauthor)%
   \endoldquote\addvspace{\bigskipamount}}

% No horizontal table overflows
\usepackage{tabulary}

%\includeonly{chap-n}
\begin{document}

% Make listing numbers follow chapters
\counterwithin{lstlisting}{chapter}

\include{chapters/0a-preface}

\tableofcontents*

\include{chapters/0b-abstract-en}

\include{chapters/0c-abstract-nl}

% Een lijst van figuren en tabellen is optioneel
%\listoffigures
%\listoftables
% Bij een beperkt aantal figuren en tabellen gebruik je liever het volgende:
\makeatletter\@openrightfalse
\listoffiguresandtables
\printglossary[type=\acronymtype,title={List of Abbreviations}]
\@openrighttrue\makeatother
% De lijst van symbolen is eveneens optioneel.
% Deze lijst moet wel manueel aangemaakt worden, bv. als volgt:
%\chapter{List of Abbreviations}
%\section*{Abbreviations}
%\begin{flushleft}
%  \renewcommand{\arraystretch}{1.1}
%  \begin{tabularx}{\textwidth}{@{}p{20mm}X@{}}
%  \end{tabularx}
%\end{flushleft}
%\section*{Symbols}
%\begin{flushleft}
%  \renewcommand{\arraystretch}{1.1}
%  \begin{tabularx}{\textwidth}{@{}p{12mm}X@{}}
%    42    & ``The Answer to the Ultimate Question of Life, the Universe,
%            and Everything'' according to \cite{h2g2} \\
%    $c$   & Speed of light \\
%    $E$   & Energy \\
%    $m$   & Mass \\
%    $\pi$ & The number pi \\
%  \end{tabularx}
%\end{flushleft}

% Nu begint de eigenlijke tekst
\mainmatter

\include{chapters/1-intro}
\include{chapters/2-background}
\include{chapters/3-analysis}
\include{chapters/4-requirements}
\include{chapters/5-architecture}
\include{chapters/6-evaluation}
\include{chapters/7-conclusion}

% Indien er bijlagen zijn:
%\appendixpage*          % indien gewenst
\appendix
\include{appendices/architecture/diagrams}
\include{appendices/architecture/catalog}
% ... en zo verder tot
%\include{app-n}

\backmatter
% Na de bijlagen plaatst men nog de bibliografie.
% Je kan de  standaard "abbrv" bibliografiestijl vervangen door een andere.
%\bibliographystyle{abbrv}
% Vanboven bij package import gedefinieerd

% nocite{*} includes all non-cited references
\nocite{*}
\bibliography{bibliography/solid, bibliography/pets, bibliography/middleware}

\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
